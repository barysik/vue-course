<!DOCTYPE html>
<html>

  <head>
    <title>Test application</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="resources/styles/tooltip.css">

    
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/v-copy@0.1.0/dist/v-copy.js"></script>
    <script src="https://unpkg.com/v-tooltip"></script>

    <style>
        .table td, .table th {
            vertical-align: middle;
        }
        [v-cloak] {
            display: none;
        }
    </style>
      
  </head>

  <body>
        <div class="container-fluid">
            <div id="app" v-cloak>
                    <h1>Пользователи</h1>
                    <p>
                        <span>Всего пользователей: {{countOfUsers}}</span>
                        <button type="button" v-on:click="isUserListDisplay = !isUserListDisplay" v-tooltip.right="buttonTitle">
                            {{buttonTitle}}
                        </button>
                    </p>
                    <!-- table of users -->
                    <div class="col-6">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Аватарка</th>
                                        <th scope="col">Имя</th>
                                        <th scope="col">Фамилия</th>
                                        <th scope="col">Отчество</th>
                                        <th scope="col">Действия</th>
                                    </tr>
                                </thead>
                                <tbody v-show="isUserListDisplay">
                                    <tr v-for="(user, index) in users" :key="user.id">
                                        <th scope="row">{{index + 1}}</th>
                                        <td>
                                            <img v-bind:src="userAvatar(user)" height="70">
                                        </td>
                                        <td>{{user.firstName | toUpperCase}}</td>
                                        <td>{{user.thirdName | toUpperCase}}</td>
                                        <td>{{user.secondName | toUpperCase}}</td>
                                        <td>
                                            <button type="button" v-copy="user.firstName + ' ' +user.thirdName"><i class="fa fa-copy"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
            </div>
          
        </div>

  </body>

  <script>
        var app = new Vue({
            el: '#app',
            data: function () {
                return {
                    isUserListDisplay: true,
                    defaultAvatarLink: 'resources/images/default-avatar.png',
                    users: []
                }
            },
            methods: {
                userAvatar: function (user) {
                    return user.avatarLink || this.defaultAvatarLink;
                }
            },
            computed: {
                countOfUsers: function () {
                    return this.users.length;
                },
                buttonTitle: function () {
                    return (this.isUserListDisplay ? 'Скрыть' : 'Показать') + ' список';
                }
            },
            filters: {
                toUpperCase: function (value) {
                    if (!value) return ''
                    return value.toUpperCase()
                }
            },
            mounted: function () {
                this.users = [
                        { firstName: 'Francesco', secondName: 'Johnovna', thirdName: 'Canfield', avatarLink: 'resources/images/20131107_213317_4797_ALICIA.png', id: 1},
                        { firstName: 'Penni', secondName: 'Johnovich', thirdName: 'Pflum', avatarLink: null, id: 2},
                        { firstName: 'Alaina', secondName: 'Johnovich', thirdName: 'Croslin', avatarLink: 'resources/images/20120419_163008_2477_sdf.png', id: 3},
                        { firstName: 'Laurice', secondName: 'Johnovich', thirdName: 'Askey', avatarLink: 'resources/images/unr_test_161024_0535_9lih90.png', id: 4},
                        { firstName: 'Frankie', secondName: 'Johnovna', thirdName: 'Hoots', avatarLink: null, id: 5}
                    ]
            }
        });
    </script>

</html>